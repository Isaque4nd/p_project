<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Prosperiuz</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #000000;
            --bg-card: #1a1a1a;
            --primary: #ffd700;
            --secondary: #ffb347;
            --text: #ffffff;
            --text-light: #cccccc;
            --accent: #daa520;
            --background-color: #000000;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: var(--background-color, #000000);
            color: var(--text);
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(18, 18, 18, 0.9) 0%, rgba(10, 10, 10, 1) 70%);
            z-index: -1;
        }
        
        .neon-border {
            border: 1px solid var(--primary);
            box-shadow: 0 0 10px var(--primary), inset 0 0 5px var(--primary);
        }
        
        .neon-text {
            text-shadow: 0 0 5px var(--primary), 0 0 10px var(--primary);
        }
        
        .neon-accent {
            text-shadow: 0 0 5px var(--accent), 0 0 10px var(--accent);
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            padding: 20px 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(10px);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }
        
        .logo span {
            color: var(--accent);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav li {
            margin-left: 30px;
        }
        
        nav a {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }
        
        nav a:hover {
            color: var(--primary);
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s ease;
        }
        
        nav a:hover::after {
            width: 100%;
        }
        
        .auth-buttons {
            display: flex;
            gap: 15px;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-family: 'Roboto', sans-serif;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: var(--bg-dark);
            border: none;
        }
        
        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-sm {
            padding: 5px 15px;
            font-size: 0.9rem;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 255, 157, 0.3);
        }
        
        /* Admin Dashboard */
        .admin-dashboard {
            padding: 180px 0 100px;
            min-height: 100vh;
        }
        
        .admin-dashboard h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .admin-section {
            margin-bottom: 60px;
        }
        
        .section-title {
            margin-bottom: 30px;
            position: relative;
            padding-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-title h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            display: inline-block;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }
        
        .projects-list, .payments-list, .users-list {
            display: grid;
            gap: 20px;
        }
        
        .project-item, .payment-item, .user-item {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr auto;
            align-items: center;
        }
        
        .project-details h3, .payment-details h3, .user-details h3 {
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .project-actions, .payment-actions, .user-actions {
            display: flex;
            gap: 10px;
        }
        
        .status {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 500;
            display: inline-block;
            margin-top: 10px;
        }
        
        .status-pending {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }
        
        .status-completed {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
        }
        
        .status-failed {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
        }
        
        /* Reviews Section Styles */
        .reviews-controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .search-box {
            display: flex;
            gap: 10px;
            flex: 1;
            min-width: 300px;
        }
        
        .search-box input {
            flex: 1;
            padding: 10px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 5px;
            background: rgba(26, 26, 26, 0.8);
            color: var(--text);
            font-size: 14px;
        }
        
        .filter-controls {
            display: flex;
            gap: 15px;
        }
        
        .filter-controls select {
            padding: 10px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 5px;
            background: rgba(26, 26, 26, 0.8);
            color: var(--text);
            min-width: 150px;
        }
        
        .reviews-table-container {
            overflow-x: auto;
            border-radius: 10px;
            background: rgba(26, 26, 26, 0.8);
        }
        
        .rating-display {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .rating-stars {
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .status-badge.pending {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid #ffc107;
        }
        
        .status-badge.approved {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
            border: 1px solid #28a745;
        }
        
        .status-badge.rejected {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
            border: 1px solid #dc3545;
        }
        
        .comment-preview {
            max-width: 300px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .comment-preview:hover {
            color: var(--primary);
        }
        
        /* WhatsApp Button */
        .whatsapp-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #25D366;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 2rem;
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.5);
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .whatsapp-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.7);
        }
        
        /* Responsivo */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            nav li {
                margin: 0 10px 10px;
            }
            
            .admin-dashboard {
                padding: 150px 0 50px;
            }
            
            .project-item, .payment-item, .user-item {
                grid-template-columns: 1fr;
            }
            
            .project-actions, .payment-actions, .user-actions {
                margin-top: 15px;
                justify-content: flex-end;
            }
        }
        
        /* User Management Styles */
        .users-controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            align-items: center;
        }
        
        .search-input, .filter-select {
            background: var(--bg-card);
            border: 2px solid var(--accent);
            color: var(--text);
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .search-input {
            flex: 1;
            max-width: 300px;
        }
        
        .filter-select {
            min-width: 180px;
        }
        
        .users-table-container {
            background: var(--bg-card);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.1);
        }
        
        .users-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .users-table th {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: #000;
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .users-table td {
            padding: 15px 12px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
            color: var(--text);
            font-size: 14px;
        }
        
        .users-table tbody tr:hover {
            background: rgba(255, 215, 0, 0.05);
        }
        
        .user-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .user-status.active {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }
        
        .user-status.inactive {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }
        
        .user-role {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .user-role.admin {
            background: rgba(147, 51, 234, 0.2);
            color: #9333ea;
        }
        
        .user-role.user {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }
        
        .user-actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .btn-icon {
            background: none;
            border: none;
            color: var(--accent);
            cursor: pointer;
            padding: 6px;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        .btn-icon:hover {
            background: rgba(255, 215, 0, 0.1);
            transform: scale(1.1);
        }
        
        .btn-icon.edit {
            color: #3b82f6;
        }
        
        .btn-icon.delete {
            color: #ef4444;
        }
        
        .btn-icon.toggle {
            color: #f59e0b;
        }
        
        .password-hint {
            color: var(--accent);
            font-size: 12px;
            margin-top: 5px;
            display: block;
        }
        
        .warning {
            color: #ef4444;
            font-weight: 600;
            margin: 10px 0;
        }
        
        .session-info {
            font-size: 12px;
            color: #9ca3af;
        }
        
        .session-active {
            color: #22c55e;
            font-weight: 600;
        }
        
        /* Modal styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: var(--bg-card);
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--primary);
            box-shadow: 0 0 20px var(--primary);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
        }
        
        .modal-header h3 {
            color: var(--primary);
            margin: 0;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: var(--text);
            font-size: 2rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-btn:hover {
            color: var(--primary);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text);
            font-weight: 500;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            background: var(--bg-dark);
            border: 1px solid #333;
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 5px var(--primary);
        }
        
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .radio-group label {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        
        .radio-group label:hover {
            background: rgba(0, 255, 157, 0.1);
        }
        
        .radio-group input[type="radio"] {
            width: auto;
            margin-right: 10px;
        }
        
        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 30px;
        }

        /* Status badges */
        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-active {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
            border: 1px solid #28a745;
        }

        .status-inactive {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
            border: 1px solid #dc3545;
        }

        /* Combo products container */
        .combo-product-item {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }

        .combo-product-item select {
            flex: 1;
        }

        .combo-product-item input[type="number"] {
            width: 80px;
        }

        /* Search and filter controls */
        .search-box {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .search-box input {
            flex: 1;
            min-width: 200px;
        }

        .filter-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .categories-controls,
        .combos-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        /* Table improvements */
        .admin-table th {
            background: rgba(255, 215, 0, 0.1);
            font-weight: 600;
        }

        .admin-table td {
            vertical-align: middle;
        }

        .loading-text {
            text-align: center;
            color: var(--text-light);
            font-style: italic;
        }

        /* Config Styles */
        .config-container {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 30px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .config-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(255, 215, 0, 0.2);
            padding-bottom: 15px;
        }

        .config-tab {
            padding: 12px 24px;
            background: transparent;
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .config-tab:hover {
            border-color: var(--primary);
            background: rgba(255, 215, 0, 0.1);
        }

        .config-tab.active {
            background: var(--primary);
            color: var(--bg-dark);
            border-color: var(--primary);
        }

        .config-section {
            display: none;
        }

        .config-section.active {
            display: block;
        }

        .config-section h3 {
            color: var(--primary);
            margin-bottom: 25px;
            font-size: 1.4rem;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text);
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255, 215, 0, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 8px;
            color: var(--text);
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
            background: rgba(255, 215, 0, 0.1);
        }

        .form-group small {
            display: block;
            margin-top: 5px;
            color: var(--text-light);
            font-size: 12px;
        }

        input[type="color"].form-input {
            height: 45px;
            padding: 5px;
            cursor: pointer;
        }

        /* Estilo específico para select customizado */
        .custom-select-wrapper {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .custom-select-wrapper select.form-input {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background: var(--bg-card) !important;
            color: var(--text) !important;
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 8px;
            padding: 12px 40px 12px 15px;
            font-size: 14px;
            cursor: pointer;
            width: 100%;
        }

        .custom-select-wrapper::after {
            content: '▼';
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            color: var(--primary);
            pointer-events: none;
            font-size: 12px;
        }

        .custom-select-wrapper select.form-input:hover {
            border-color: var(--primary);
            background: rgba(255, 215, 0, 0.1) !important;
        }

        .custom-select-wrapper select.form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
            background: rgba(255, 215, 0, 0.1) !important;
        }

        /* Força o estilo das opções do select */
        .custom-select-wrapper select.form-input option {
            background-color: var(--bg-card) !important;
            color: var(--text) !important;
            padding: 10px 15px !important;
            border: none !important;
        }

        /* Estilo quando o select está aberto */
        .custom-select-wrapper select.form-input:focus option:checked,
        .custom-select-wrapper select.form-input option:hover {
            background-color: var(--primary) !important;
            color: var(--bg-dark) !important;
        }
    </style>
</head>
<body>
    <!-- WhatsApp Button -->
    <a href="https://wa.me/5577988328265?text=Olá%2C%20tudo%20bem%3F%20Pode%20me%20ajudar%20com%20os%20acessos%3F%20⚜" class="whatsapp-button" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="/" class="logo">Prosperiuz<span></span></a>
                <nav>
                    <ul>
                        <li><a href="#categories">Categorias</a></li>
                        <li><a href="#projects">Produtos</a></li>
                        <li><a href="#combos">Combos</a></li>
                        <li><a href="#payments">Pagamentos</a></li>
                        <li><a href="#users">Usuários</a></li>
                        <li><a href="#reviews">Avaliações</a></li>
                        <li><a href="#config">Configurações</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons">
                    <button class="btn btn-outline" id="logout-btn">Sair</button>
                </div>
            </div>
        </div>
    </header>

    <main class="admin-dashboard">
        <div class="container">
            <h1 class="neon-text">Painel Administrativo</h1>
            
            <!-- Seção de Categorias -->
            <section id="categories" class="admin-section">
                <div class="section-title">
                    <h2>Gestão de Categorias</h2>
                    <button class="btn btn-primary" id="add-category-btn">
                        <i class="fas fa-plus"></i> Nova Categoria
                    </button>
                </div>
                
                <div class="categories-controls" style="margin-bottom: 20px;">
                    <div class="search-box">
                        <input type="text" id="categories-search" placeholder="Buscar categorias..." />
                        <button class="btn btn-outline btn-sm" onclick="searchCategories()">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Slug</th>
                                <th>Cor</th>
                                <th>Ícone</th>
                                <th>Status</th>
                                <th>Produtos</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="categories-table-body">
                            <tr>
                                <td colspan="7" class="loading-text">Carregando categorias...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Seção de Combos -->
            <section id="combos" class="admin-section">
                <div class="section-title">
                    <h2>Gestão de Combos</h2>
                    <button class="btn btn-primary" id="add-combo-btn">
                        <i class="fas fa-plus"></i> Novo Combo
                    </button>
                </div>
                
                <div class="combos-controls" style="margin-bottom: 20px;">
                    <div class="search-box">
                        <input type="text" id="combos-search" placeholder="Buscar combos..." />
                        <button class="btn btn-outline btn-sm" onclick="searchCombos()">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div class="filter-controls">
                        <select id="combos-category-filter" onchange="filterCombos()">
                            <option value="">Todas as categorias</option>
                        </select>
                        <select id="combos-status-filter" onchange="filterCombos()">
                            <option value="">Todos os status</option>
                            <option value="true">Ativo</option>
                            <option value="false">Inativo</option>
                        </select>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Produtos</th>
                                <th>Preço Original</th>
                                <th>Preço do Combo</th>
                                <th>Desconto</th>
                                <th>Status</th>
                                <th>Vendas</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="combos-table-body">
                            <tr>
                                <td colspan="8" class="loading-text">Carregando combos...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <section id="projects" class="admin-section">
                <div class="section-title">
                    <h2>Gestão de Produtos</h2>
                    <button class="btn btn-primary" id="add-project-btn">
                        <i class="fas fa-plus"></i> Novo Produto
                    </button>
                </div>
                
                <div class="products-controls" style="margin-bottom: 20px;">
                    <div class="search-box">
                        <input type="text" id="products-search" placeholder="Buscar produtos..." />
                        <button class="btn btn-outline btn-sm" onclick="searchProducts()">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div class="filter-controls">
                        <select id="products-category-filter" onchange="filterProducts()">
                            <option value="">Todas as categorias</option>
                            <option value="streaming">Streaming</option>
                            <option value="ia">Inteligência Artificial</option>
                            <option value="design">Design</option>
                            <option value="produtividade">Produtividade</option>
                            <option value="combos">Combos</option>
                        </select>
                        <select id="products-type-filter" onchange="filterProducts()">
                            <option value="">Todos os tipos</option>
                            <option value="individual">Individual</option>
                            <option value="combo">Combo</option>
                            <option value="bundle">Bundle</option>
                        </select>
                    </div>
                </div>
                
                <div class="projects-list" id="projects-list">
                    <!-- Projetos serão carregados via JavaScript -->
                </div>
            </section>
            
            <section id="payments" class="admin-section">
                <div class="section-title">
                    <h2>Gerenciar Pagamentos</h2>
                    <button class="btn btn-success" id="create-charge-btn">Gerar Cobrança</button>
                </div>
                <div class="payments-list" id="payments-list">
                    <!-- Pagamentos serão carregados via JavaScript -->
                </div>
            </section>
            
            <section id="users" class="admin-section">
                <div class="section-title">
                    <h2>Gerenciar Usuários</h2>
                    <button class="btn btn-primary" id="add-user-btn">Adicionar Usuário</button>
                </div>
                
                <div class="users-controls">
                    <input type="text" id="user-search" placeholder="Pesquisar usuários..." class="search-input">
                    <select id="role-filter" class="filter-select">
                        <option value="">Todos os papéis</option>
                        <option value="admin">Administradores</option>
                        <option value="user">Usuários</option>
                    </select>
                </div>
                
                <div class="users-table-container">
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Email</th>
                                <th>WhatsApp</th>
                                <th>Papel</th>
                                <th>Status</th>
                                <th>Data de Criação</th>
                                <th>Última Sessão</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="users-list">
                            <!-- Usuários serão carregados via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="reviews" class="admin-section">
                <div class="section-title">
                    <h2>Gerenciar Avaliações</h2>
                    <button class="btn btn-primary" id="add-review-btn">Adicionar Avaliação</button>
                </div>
                
                <div class="reviews-controls">
                    <div class="search-box">
                        <input type="text" id="reviews-search" placeholder="Buscar avaliações...">
                        <button class="btn btn-outline" id="search-reviews-btn">Buscar</button>
                    </div>
                    <div class="filter-controls">
                        <select id="reviews-status-filter">
                            <option value="">Todos os Status</option>
                            <option value="pending">Pendente</option>
                            <option value="approved">Aprovado</option>
                            <option value="rejected">Rejeitado</option>
                        </select>
                        <select id="reviews-rating-filter">
                            <option value="">Todas as Notas</option>
                            <option value="5">5 Estrelas</option>
                            <option value="4">4 Estrelas</option>
                            <option value="3">3 Estrelas</option>
                            <option value="2">2 Estrelas</option>
                            <option value="1">1 Estrela</option>
                        </select>
                    </div>
                </div>
                
                <div class="reviews-table-container">
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>Cliente</th>
                                <th>Projeto</th>
                                <th>Avaliação</th>
                                <th>Comentário</th>
                                <th>Status</th>
                                <th>Data</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="reviews-list">
                            <!-- Avaliações serão carregadas via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Modal para Adicionar/Editar Avaliação -->
            <div id="user-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="user-modal-title">Adicionar Usuário</h3>
                        <span class="close" id="close-user-modal">&times;</span>
                    </div>
                    <form id="user-form">
                        <div class="form-group">
                            <label for="user-name">Nome:</label>
                            <input type="text" id="user-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="user-email">Email:</label>
                            <input type="email" id="user-email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="user-password">Senha:</label>
                            <input type="password" id="user-password" name="password">
                            <small class="password-hint">Deixe em branco para manter a senha atual (apenas na edição)</small>
                        </div>
                        <div class="form-group">
                            <label for="user-role">Papel:</label>
                            <div class="custom-select-wrapper">
                                <select id="user-role" name="role" required>
                                    <option value="user">Usuário</option>
                                    <option value="admin">Administrador</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="user-active" name="active" checked>
                                Usuário ativo
                            </label>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn btn-secondary" id="cancel-user-btn">Cancelar</button>
                            <button type="submit" class="btn btn-primary" id="save-user-btn">Salvar</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal para Confirmar Exclusão -->
            <div id="delete-user-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Confirmar Exclusão</h3>
                        <span class="close" id="close-delete-modal">&times;</span>
                    </div>
                    <div class="modal-body">
                        <p>Tem certeza que deseja excluir este usuário?</p>
                        <p><strong id="delete-user-name"></strong></p>
                        <p class="warning">Esta ação não pode ser desfeita.</p>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-delete-btn">Cancelar</button>
                        <button type="button" class="btn btn-danger" id="confirm-delete-btn">Excluir</button>
                    </div>
                </div>
            </div>

            <!-- Modal para Adicionar/Editar Avaliação -->
            <div id="review-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="review-modal-title">Adicionar Avaliação</h3>
                        <span class="close" id="close-review-modal">&times;</span>
                    </div>
                    <form id="review-form">
                        <div class="form-group">
                            <label for="review-customer-name">Nome do Cliente:</label>
                            <input type="text" id="review-customer-name" name="customerName" required>
                        </div>
                        <div class="form-group">
                            <label for="review-project">Projeto:</label>
                            <select id="review-project" name="project" required>
                                <option value="">Selecione um projeto</option>
                                <!-- Projetos serão carregados via JavaScript -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="review-rating">Avaliação:</label>
                            <select id="review-rating" name="rating" required>
                                <option value="">Selecione a nota</option>
                                <option value="5">⭐⭐⭐⭐⭐ (5 estrelas)</option>
                                <option value="4">⭐⭐⭐⭐ (4 estrelas)</option>
                                <option value="3">⭐⭐⭐ (3 estrelas)</option>
                                <option value="2">⭐⭐ (2 estrelas)</option>
                                <option value="1">⭐ (1 estrela)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="review-comment">Comentário:</label>
                            <textarea id="review-comment" name="comment" rows="4" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="review-status">Status:</label>
                            <select id="review-status" name="status" required>
                                <option value="pending">Pendente</option>
                                <option value="approved">Aprovado</option>
                                <option value="rejected">Rejeitado</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">Salvar Avaliação</button>
                    </form>
                </div>
            </div>

            <!-- Modal para Adicionar/Editar Categoria -->
            <div id="category-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="category-modal-title">Adicionar Categoria</h3>
                        <span class="close" id="close-category-modal">&times;</span>
                    </div>
                    <form id="category-form">
                        <div class="form-group">
                            <label for="category-name">Nome:</label>
                            <input type="text" id="category-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="category-description">Descrição:</label>
                            <textarea id="category-description" name="description" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="category-icon">Ícone (Font Awesome):</label>
                            <input type="text" id="category-icon" name="icon" placeholder="fas fa-folder">
                        </div>
                        <div class="form-group">
                            <label for="category-color">Cor:</label>
                            <input type="color" id="category-color" name="color" value="#ffd700">
                        </div>
                        <div class="form-group">
                            <label for="category-active">Status:</label>
                            <select id="category-active" name="isActive">
                                <option value="true">Ativo</option>
                                <option value="false">Inativo</option>
                            </select>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn btn-secondary" id="cancel-category-btn">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar Categoria</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal para Adicionar/Editar Combo -->
            <div id="combo-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="combo-modal-title">Adicionar Combo</h3>
                        <span class="close" id="close-combo-modal">&times;</span>
                    </div>
                    <form id="combo-form">
                        <div class="form-group">
                            <label for="combo-name">Nome:</label>
                            <input type="text" id="combo-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="combo-description">Descrição:</label>
                            <textarea id="combo-description" name="description" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="combo-category">Categoria:</label>
                            <select id="combo-category" name="category">
                                <option value="">Selecione uma categoria</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="combo-products">Produtos:</label>
                            <div id="combo-products-container">
                                <div class="combo-product-item">
                                    <select name="product" required>
                                        <option value="">Selecione um produto</option>
                                    </select>
                                    <input type="number" name="quantity" value="1" min="1" placeholder="Qtd">
                                    <button type="button" class="btn btn-danger btn-sm remove-product">Remover</button>
                                </div>
                            </div>
                            <button type="button" class="btn btn-outline btn-sm" id="add-combo-product">Adicionar Produto</button>
                        </div>
                        <div class="form-group">
                            <label for="combo-price">Preço do Combo:</label>
                            <input type="number" id="combo-price" name="comboPrice" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="combo-image">URL da Imagem:</label>
                            <input type="url" id="combo-image" name="image">
                        </div>
                        <div class="form-group">
                            <label for="combo-active">Status:</label>
                            <select id="combo-active" name="isActive">
                                <option value="true">Ativo</option>
                                <option value="false">Inativo</option>
                            </select>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn btn-secondary" id="cancel-combo-btn">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Salvar Combo</button>
                        </div>
                    </form>
                </div>
            </div>

            <section id="config" class="admin-section">
                <div class="section-title">
                    <h2>Configurações do Sistema</h2>
                    <button class="btn btn-primary" id="save-config-btn">Salvar Configurações</button>
                </div>
                <div class="config-container">
                    <div class="config-tabs">
                        <button class="config-tab active" onclick="switchConfigTab('database')">Banco de Dados</button>
                        <button class="config-tab" onclick="switchConfigTab('payment')">Pagamentos</button>
                        <button class="config-tab" onclick="switchConfigTab('branding')">Visual</button>
                    </div>
                    
                    <div class="config-content">
                        <!-- Database Config -->
                        <div id="database-config" class="config-section active">
                            <h3>Configurações do Banco de Dados</h3>
                            <div class="form-group">
                                <label for="mongodb_uri">MongoDB URI</label>
                                <input type="text" id="mongodb_uri" class="form-input" placeholder="mongodb+srv://...">
                                <small>URI de conexão com o MongoDB Atlas ou instância local</small>
                            </div>
                        </div>
                        
                        <!-- Payment Config -->
                        <div id="payment-config" class="config-section">
                            <h3>Configurações de Pagamento</h3>
                            <div class="form-group">
                                <label for="payment_provider">Provedor de Pagamento</label>
                                <div class="custom-select-wrapper">
                                    <select id="payment_provider" class="form-input">
                                        <option value="sacapay">Sacapay</option>
                                        <option value="mercadopago">Mercado Pago</option>
                                    </select>
                                </div>
                                <small>Escolha o provedor de pagamento a ser usado</small>
                            </div>
                            <div class="form-group">
                                <label for="payment_api_url">URL da API de Pagamento</label>
                                <input type="url" id="payment_api_url" class="form-input" placeholder="https://api.provedor.com">
                                <small>URL base da API do provedor de pagamento</small>
                            </div>
                            
                            <!-- Sacapay Config -->
                            <div id="sacapay-config" class="provider-config">
                                <h4 style="color: var(--primary); margin: 20px 0 15px;">Configurações Sacapay</h4>
                                <div class="form-group">
                                    <label for="sacapay_public_token">Token Público Sacapay</label>
                                    <input type="text" id="sacapay_public_token" class="form-input" placeholder="Token público...">
                                    <small>Token público para integração com Sacapay</small>
                                </div>
                                <div class="form-group">
                                    <label for="sacapay_private_token">Token Privado Sacapay</label>
                                    <input type="password" id="sacapay_private_token" class="form-input" placeholder="Token privado...">
                                    <small>Token privado para integração com Sacapay</small>
                                </div>
                            </div>
                            
                            <!-- Mercado Pago Config -->
                            <div id="mercadopago-config" class="provider-config" style="display: none;">
                                <h4 style="color: var(--primary); margin: 20px 0 15px;">Configurações Mercado Pago</h4>
                                <div class="form-group">
                                    <label for="mercadopago_public_key">Public Key</label>
                                    <input type="text" id="mercadopago_public_key" class="form-input" placeholder="TEST-xxxx ou APP_USR-xxxx">
                                    <small>Chave pública do Mercado Pago</small>
                                </div>
                                <div class="form-group">
                                    <label for="mercadopago_access_token">Access Token</label>
                                    <input type="password" id="mercadopago_access_token" class="form-input" placeholder="TEST-xxxx ou APP_USR-xxxx">
                                    <small>Token de acesso do Mercado Pago</small>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Branding Config -->
                        <div id="branding-config" class="config-section">
                            <h3>Configurações Visuais</h3>
                            <div class="form-group">
                                <label for="site_name">Nome do Site</label>
                                <input type="text" id="site_name" class="form-input" placeholder="Prosperiuz">
                                <small>Nome que aparecerá no site</small>
                            </div>
                            <div class="form-group">
                                <label for="primary_color">Cor Primária</label>
                                <input type="color" id="primary_color" class="form-input" value="#ffd700">
                                <small>Cor principal do tema</small>
                            </div>
                            <div class="form-group">
                                <label for="secondary_color">Cor Secundária</label>
                                <input type="color" id="secondary_color" class="form-input" value="#ffb347">
                                <small>Cor secundária do tema</small>
                            </div>
                            <div class="form-group">
                                <label for="background_color">Cor de Fundo</label>
                                <input type="color" id="background_color" class="form-input" value="#000000">
                                <small>Cor de fundo da página</small>
                            </div>
                            <div class="form-group">
                                <label for="background_preset">Presets de Fundo</label>
                                <div class="custom-select-wrapper">
                                    <select id="background_preset" class="form-input">
                                        <option value="">Cor sólida personalizada</option>
                                        <option value="#000000">Preto (Padrão)</option>
                                        <option value="#1a1a1a">Cinza Escuro</option>
                                        <option value="#2c2c2c">Cinza Médio</option>
                                        <option value="#0f172a">Azul Escuro</option>
                                        <option value="#1e293b">Azul Acinzentado</option>
                                        <option value="#422006">Dourado Escuro</option>
                                        <option value="linear-gradient(135deg, #000000, #1a1a1a)">Gradiente Preto</option>
                                        <option value="linear-gradient(135deg, #0f172a, #1e293b)">Gradiente Azul</option>
                                        <option value="linear-gradient(135deg, #422006, #92400e)">Gradiente Dourado</option>
                                    </select>
                                </div>
                                <small>Escolha um preset ou use cor personalizada</small>
                            </div>
                            <div class="form-group">
                                <label for="background_gradient">Gradiente Personalizado</label>
                                <input type="text" id="background_gradient" class="form-input" placeholder="linear-gradient(135deg, #000000, #1a1a1a)">
                                <small>CSS gradiente personalizado (opcional)</small>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Modal para Adicionar/Editar Projeto -->
    <div id="project-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Adicionar Projeto</h3>
                <button class="close-btn" id="close-modal">&times;</button>
            </div>
            <form id="project-form">
                <div class="form-group">
                    <label for="project-title">Título do Projeto:</label>
                    <input type="text" id="project-title" name="title" required>
                </div>
                
                <div class="form-group">
                    <label for="project-description">Descrição:</label>
                    <textarea id="project-description" name="description" rows="4" required></textarea>
                </div>
                
                <div class="form-group">
                    <label for="project-price">Preço (R$):</label>
                    <input type="number" id="project-price" name="price" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label for="project-category">Categoria:</label>
                    <input type="text" id="project-category" name="category" required>
                </div>
                
                <div class="form-group">
                    <label for="project-drive-link">Link do Google Drive:</label>
                    <input type="url" id="project-drive-link" name="driveLink" placeholder="https://drive.google.com/..." required>
                </div>
                
                <div class="form-group">
                    <label for="project-features">Funcionalidades (uma por linha):</label>
                    <textarea id="project-features" name="features" rows="6" placeholder="Funcionalidade 1&#10;Funcionalidade 2&#10;..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="project-target-user">Selecionar Usuário:</label>
                    <select id="project-target-user" name="targetUser">
                        <option value="">Disponível para todos os usuários</option>
                        <!-- Usuários serão carregados dinamicamente -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Tipo de Disponibilização:</label>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="deliveryType" value="payment" checked>
                            Cobrança (PIX/Sacapay)
                        </label>
                        <label>
                            <input type="radio" name="deliveryType" value="manual">
                            Liberar manualmente (grátis)
                        </label>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-outline" id="cancel-btn">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Projeto</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading indicator -->
    <div id="loading" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); padding: 20px; border-radius: 10px; color: white; z-index: 9999;">
        <i class="fas fa-spinner fa-spin"></i> Carregando...
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="assets/js/session-manager.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="assets/js/payment-modal.js"></script>
    <script src="assets/js/admin.js"></script>
    
    <script>
        // Configurações
        let currentConfigs = {};

        // Alternar entre abas de configuração
        function switchConfigTab(tab) {
            // Atualizar abas
            document.querySelectorAll('.config-tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`[onclick="switchConfigTab('${tab}')"]`).classList.add('active');
            
            // Atualizar seções
            document.querySelectorAll('.config-section').forEach(s => s.classList.remove('active'));
            document.getElementById(`${tab}-config`).classList.add('active');
        }

        // Carregar configurações
        async function loadConfigs() {
            try {
                const response = await axios.get('/api/config/admin/all', {
                    headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }
                });
                
                if (response.data.success) {
                    currentConfigs = {};
                    response.data.configs.forEach(config => {
                        currentConfigs[config.key] = config.value;
                    });
                    
                    // Preencher campos
                    populateConfigFields();
                }
            } catch (error) {
                console.error('Erro ao carregar configurações:', error);
                showMessage('Erro ao carregar configurações', 'error');
            }
        }

        // Preencher campos com configurações
        function populateConfigFields() {
            const fields = {
                'mongodb_uri': 'MONGODB_URI',
                'payment_provider': 'PAYMENT_PROVIDER',
                'payment_api_url': 'PAYMENT_API_URL',
                'sacapay_public_token': 'SACAPAY_PUBLIC_TOKEN',
                'sacapay_private_token': 'SACAPAY_PRIVATE_TOKEN',
                'mercadopago_public_key': 'MERCADOPAGO_PUBLIC_KEY',
                'mercadopago_access_token': 'MERCADOPAGO_ACCESS_TOKEN',
                'site_name': 'SITE_NAME',
                'primary_color': 'PRIMARY_COLOR',
                'secondary_color': 'SECONDARY_COLOR',
                'background_color': 'BACKGROUND_COLOR',
                'background_gradient': 'BACKGROUND_GRADIENT'
            };

            Object.entries(fields).forEach(([fieldId, configKey]) => {
                const field = document.getElementById(fieldId);
                if (field && currentConfigs[configKey] !== undefined) {
                    field.value = currentConfigs[configKey];
                }
            });
            
            // Atualizar visibilidade das configurações do provedor
            updateProviderVisibility();
        }

        // Atualizar visibilidade das configurações baseado no provedor
        function updateProviderVisibility() {
            const provider = document.getElementById('payment_provider').value;
            const sacapayConfig = document.getElementById('sacapay-config');
            const mercadopagoConfig = document.getElementById('mercadopago-config');
            
            if (provider === 'sacapay') {
                sacapayConfig.style.display = 'block';
                mercadopagoConfig.style.display = 'none';
            } else if (provider === 'mercadopago') {
                sacapayConfig.style.display = 'none';
                mercadopagoConfig.style.display = 'block';
            }
        }

        // Salvar configurações
        async function saveConfigs() {
            const button = document.getElementById('save-config-btn');
            const originalText = button.textContent;
            
            button.textContent = 'Salvando...';
            button.disabled = true;

            try {
                const configs = [
                    {
                        key: 'MONGODB_URI',
                        value: document.getElementById('mongodb_uri').value,
                        description: 'URI de conexão do MongoDB',
                        category: 'database',
                        sensitive: true
                    },
                    {
                        key: 'PAYMENT_PROVIDER',
                        value: document.getElementById('payment_provider').value,
                        description: 'Provedor de pagamento',
                        category: 'payment',
                        sensitive: false
                    },
                    {
                        key: 'PAYMENT_API_URL',
                        value: document.getElementById('payment_api_url').value,
                        description: 'URL da API de pagamento',
                        category: 'payment',
                        sensitive: false
                    },
                    {
                        key: 'SACAPAY_PUBLIC_TOKEN',
                        value: document.getElementById('sacapay_public_token').value,
                        description: 'Token público do Sacapay',
                        category: 'payment',
                        sensitive: false
                    },
                    {
                        key: 'SACAPAY_PRIVATE_TOKEN',
                        value: document.getElementById('sacapay_private_token').value,
                        description: 'Token privado do Sacapay',
                        category: 'payment',
                        sensitive: true
                    },
                    {
                        key: 'MERCADOPAGO_PUBLIC_KEY',
                        value: document.getElementById('mercadopago_public_key').value,
                        description: 'Public Key do Mercado Pago',
                        category: 'payment',
                        sensitive: false
                    },
                    {
                        key: 'MERCADOPAGO_ACCESS_TOKEN',
                        value: document.getElementById('mercadopago_access_token').value,
                        description: 'Access Token do Mercado Pago',
                        category: 'payment',
                        sensitive: true
                    },
                    {
                        key: 'SITE_NAME',
                        value: document.getElementById('site_name').value,
                        description: 'Nome do site',
                        category: 'branding',
                        sensitive: false
                    },
                    {
                        key: 'PRIMARY_COLOR',
                        value: document.getElementById('primary_color').value,
                        description: 'Cor primária do site',
                        category: 'branding',
                        sensitive: false
                    },
                    {
                        key: 'SECONDARY_COLOR',
                        value: document.getElementById('secondary_color').value,
                        description: 'Cor secundária do site',
                        category: 'branding',
                        sensitive: false
                    },
                    {
                        key: 'BACKGROUND_COLOR',
                        value: document.getElementById('background_color').value,
                        description: 'Cor de fundo da página',
                        category: 'branding',
                        sensitive: false
                    },
                    {
                        key: 'BACKGROUND_GRADIENT',
                        value: document.getElementById('background_gradient').value,
                        description: 'Gradiente de fundo (opcional)',
                        category: 'branding',
                        sensitive: false
                    }
                ];

                // Salvar cada configuração
                for (const config of configs) {
                    await axios.post('/api/config/admin', config, {
                        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }
                    });
                }

                showMessage('Configurações salvas com sucesso!', 'success');
                
                // Aplicar cores em tempo real
                applyColors();
                
            } catch (error) {
                console.error('Erro ao salvar configurações:', error);
                showMessage('Erro ao salvar configurações', 'error');
            } finally {
                button.textContent = originalText;
                button.disabled = false;
            }
        }

        // Aplicar cores em tempo real
        function applyColors() {
            const primaryColor = document.getElementById('primary_color').value;
            const secondaryColor = document.getElementById('secondary_color').value;
            const backgroundColor = document.getElementById('background_color').value;
            const backgroundGradient = document.getElementById('background_gradient').value;
            
            document.documentElement.style.setProperty('--primary', primaryColor);
            document.documentElement.style.setProperty('--secondary', secondaryColor);
            document.documentElement.style.setProperty('--accent', primaryColor);
            
            // Aplicar cor de fundo
            if (backgroundGradient && backgroundGradient.trim()) {
                // Se há gradiente, usar ele
                document.documentElement.style.setProperty('--background-color', backgroundGradient);
                document.body.style.background = backgroundGradient;
            } else {
                // Caso contrário, usar cor sólida
                document.documentElement.style.setProperty('--background-color', backgroundColor);
                document.body.style.background = backgroundColor;
            }
        }

        // Manipular preset de fundo
        function handleBackgroundPreset() {
            const preset = document.getElementById('background_preset').value;
            const backgroundColorInput = document.getElementById('background_color');
            const backgroundGradientInput = document.getElementById('background_gradient');
            
            if (preset.includes('linear-gradient')) {
                // É um gradiente
                backgroundGradientInput.value = preset;
                backgroundColorInput.value = '#000000'; // Fallback
            } else if (preset) {
                // É uma cor sólida
                backgroundColorInput.value = preset;
                backgroundGradientInput.value = '';
            }
            
            // Aplicar mudanças imediatamente
            applyColors();
        }

        // Event listeners para mudanças em tempo real
        document.getElementById('primary_color').addEventListener('input', applyColors);
        document.getElementById('secondary_color').addEventListener('input', applyColors);
        document.getElementById('background_color').addEventListener('input', applyColors);
        document.getElementById('background_gradient').addEventListener('input', applyColors);
        document.getElementById('background_preset').addEventListener('change', handleBackgroundPreset);

        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Carregar todas as funcionalidades quando a página carrega
            loadReviews();
            loadUsers();
            
            // Carregar configurações se estiver na aba config
            const configSection = document.getElementById('config');
            if (configSection) {
                loadConfigs();
            }

            // Botão salvar configurações
            const saveBtn = document.getElementById('save-config-btn');
            if (saveBtn) {
                saveBtn.addEventListener('click', saveConfigs);
            }

            // Aplicar cores em tempo real quando mudarem
            const colorInputs = document.querySelectorAll('input[type="color"]');
            colorInputs.forEach(input => {
                input.addEventListener('change', applyColors);
            });
            
            // Listener para mudança de provedor de pagamento
            const providerSelect = document.getElementById('payment_provider');
            if (providerSelect) {
                providerSelect.addEventListener('change', updateProviderVisibility);
            }
        });

        // ========== USERS MANAGEMENT ==========
        async function loadUsers() {
            try {
                const response = await fetch('/api/auth/users', {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    displayUsers(data.users);
                } else {
                    showMessage('Erro ao carregar usuários', 'error');
                }
            } catch (error) {
                console.error('Erro ao carregar usuários:', error);
                showMessage('Erro ao carregar usuários', 'error');
            }
        }
        
        function displayUsers(users) {
            const usersList = document.getElementById('users-list');
            
            if (!users || users.length === 0) {
                usersList.innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 40px; color: var(--text-light);">
                            <i class="fas fa-users" style="font-size: 2rem; margin-bottom: 10px; opacity: 0.5;"></i>
                            <p>Nenhum usuário encontrado</p>
                        </td>
                    </tr>
                `;
                return;
            }
            
            usersList.innerHTML = users.map(user => {
                const createdDate = new Date(user.createdAt).toLocaleDateString('pt-BR');
                const lastSession = user.lastActivity ? 
                    new Date(user.lastActivity).toLocaleDateString('pt-BR') : 
                    'Nunca';
                    
                const whatsappFormatted = user.whatsapp || 'Não informado';
                const whatsappLink = user.whatsapp ? 
                    `https://wa.me/${user.whatsapp.replace(/\D/g, '')}?text=Olá%2C%20tudo%20bem%3F%20Sou%20da%20equipe%20Prosperiuz%20%E2%9A%9C` : 
                    '#';
                
                return `
                    <tr>
                        <td>${user.name}</td>
                        <td>${user.email}</td>
                        <td>
                            ${user.whatsapp ? `
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span>${whatsappFormatted}</span>
                                    <a href="${whatsappLink}" target="_blank" 
                                       class="btn-icon" 
                                       title="Chamar no WhatsApp"
                                       style="color: #25D366; background: rgba(37, 211, 102, 0.1); border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;">
                                        <i class="fab fa-whatsapp"></i>
                                    </a>
                                </div>
                            ` : `
                                <span style="color: var(--text-light); font-style: italic;">Não informado</span>
                            `}
                        </td>
                        <td>
                            <span class="user-role ${user.role}">
                                ${user.role === 'admin' ? 'Admin' : 'Usuário'}
                            </span>
                        </td>
                        <td>
                            <span class="user-status active">Ativo</span>
                        </td>
                        <td>${createdDate}</td>
                        <td>
                            <span class="session-info">${lastSession}</span>
                        </td>
                        <td class="user-actions">
                            <button class="btn-icon edit" onclick="editUser('${user._id}')" title="Editar usuário">
                                <i class="fas fa-edit"></i>
                            </button>
                            ${user.whatsapp ? `
                                <a href="${whatsappLink}" target="_blank" 
                                   class="btn-icon" 
                                   title="Chamar no WhatsApp"
                                   style="color: #25D366;">
                                    <i class="fab fa-whatsapp"></i>
                                </a>
                            ` : ''}
                            ${user.role !== 'admin' ? `
                                <button class="btn-icon delete" onclick="deleteUser('${user._id}')" title="Excluir usuário">
                                    <i class="fas fa-trash"></i>
                                </button>
                            ` : ''}
                        </td>
                    </tr>
                `;
            }).join('');
        }
        
        function editUser(userId) {
            // Implementar edição de usuário
            showMessage('Funcionalidade de edição em desenvolvimento', 'info');
        }
        
        function deleteUser(userId) {
            if (confirm('Tem certeza que deseja excluir este usuário?')) {
                // Implementar exclusão de usuário
                showMessage('Funcionalidade de exclusão em desenvolvimento', 'info');
            }
        }

        // Função showMessage (caso não exista no admin.js)
        if (typeof showMessage === 'undefined') {
            function showMessage(message, type) {
                console.log(`${type.toUpperCase()}: ${message}`);
                
                // Criar um toast simples
                const toast = document.createElement('div');
                toast.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    padding: 15px 20px;
                    border-radius: 8px;
                    color: white;
                    font-weight: 500;
                    z-index: 10000;
                    max-width: 300px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                    background: ${type === 'error' ? '#ff4444' : '#44ff44'};
                `;
                toast.textContent = message;
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.remove();
                }, 5000);
            }
        }
        
        // ========== REVIEWS MANAGEMENT ==========
        let currentReviewId = null;
        
        // Carregar reviews
        async function loadReviews() {
            try {
                const response = await fetch('/api/reviews');
                const data = await response.json();
                
                if (data.success) {
                    displayReviews(data.data);
                }
            } catch (error) {
                console.error('Erro ao carregar reviews:', error);
                showMessage('Erro ao carregar avaliações', 'error');
            }
        }
        
        // Exibir reviews na tabela
        function displayReviews(reviews) {
            const reviewsList = document.getElementById('reviews-list');
            
            if (reviews.length === 0) {
                reviewsList.innerHTML = '<tr><td colspan="7" style="text-align: center; color: var(--text-light);">Nenhuma avaliação encontrada</td></tr>';
                return;
            }
            
            reviewsList.innerHTML = reviews.map(review => {
                const stars = '★'.repeat(review.rating) + '☆'.repeat(5 - review.rating);
                const date = new Date(review.createdAt).toLocaleDateString('pt-BR');
                const commentPreview = review.comment.length > 50 ? 
                    review.comment.substring(0, 50) + '...' : review.comment;
                
                return `
                    <tr>
                        <td>${review.customerName}</td>
                        <td>${review.project ? review.project.name : 'N/A'}</td>
                        <td>
                            <div class="rating-display">
                                <span class="rating-stars">${stars}</span>
                                <span>(${review.rating})</span>
                            </div>
                        </td>
                        <td>
                            <span class="comment-preview" title="${review.comment}">${commentPreview}</span>
                        </td>
                        <td>
                            <span class="status-badge ${review.status}">${getStatusText(review.status)}</span>
                        </td>
                        <td>${date}</td>
                        <td>
                            <button class="btn btn-outline" onclick="editReview('${review._id}')">Editar</button>
                            <button class="btn btn-danger" onclick="deleteReview('${review._id}')">Excluir</button>
                            ${review.status === 'pending' ? `
                                <button class="btn btn-success" onclick="approveReview('${review._id}')">Aprovar</button>
                                <button class="btn btn-warning" onclick="rejectReview('${review._id}')">Rejeitar</button>
                            ` : ''}
                        </td>
                    </tr>
                `;
            }).join('');
        }
        
        // Converter status para texto
        function getStatusText(status) {
            const statusMap = {
                'pending': 'Pendente',
                'approved': 'Aprovado',
                'rejected': 'Rejeitado'
            };
            return statusMap[status] || status;
        }
        
        // Abrir modal de adicionar review
        document.getElementById('add-review-btn').addEventListener('click', () => {
            currentReviewId = null;
            document.getElementById('review-modal-title').textContent = 'Adicionar Avaliação';
            document.getElementById('review-form').reset();
            loadProjectsForReview();
            document.getElementById('review-modal').classList.add('show');
        });
        
        // Carregar projetos para o select
        async function loadProjectsForReview() {
            try {
                const response = await fetch('/api/projects');
                const data = await response.json();
                
                if (data.success) {
                    const select = document.getElementById('review-project');
                    select.innerHTML = '<option value="">Selecione um projeto</option>';
                    data.data.forEach(project => {
                        select.innerHTML += `<option value="${project._id}">${project.name}</option>`;
                    });
                }
            } catch (error) {
                console.error('Erro ao carregar projetos:', error);
            }
        }
        
        // Fechar modal de review
        document.getElementById('close-review-modal').addEventListener('click', () => {
            document.getElementById('review-modal').classList.remove('show');
        });
        
        // Salvar review
        document.getElementById('review-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const reviewData = {
                customerName: formData.get('customerName'),
                project: formData.get('project'),
                rating: parseInt(formData.get('rating')),
                comment: formData.get('comment'),
                status: formData.get('status')
            };
            
            try {
                const url = currentReviewId ? `/api/reviews/${currentReviewId}` : '/api/reviews';
                const method = currentReviewId ? 'PUT' : 'POST';
                
                const response = await fetch(url, {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    },
                    body: JSON.stringify(reviewData)
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showMessage(currentReviewId ? 'Avaliação atualizada!' : 'Avaliação adicionada!', 'success');
                    document.getElementById('review-modal').classList.remove('show');
                    loadReviews();
                } else {
                    showMessage(data.message || 'Erro ao salvar avaliação', 'error');
                }
            } catch (error) {
                console.error('Erro ao salvar review:', error);
                showMessage('Erro ao salvar avaliação', 'error');
            }
        });
        
        // Editar review
        async function editReview(reviewId) {
            try {
                const response = await fetch(`/api/reviews/${reviewId}`);
                const data = await response.json();
                
                if (data.success) {
                    const review = data.data;
                    currentReviewId = reviewId;
                    
                    document.getElementById('review-modal-title').textContent = 'Editar Avaliação';
                    document.getElementById('review-customer-name').value = review.customerName;
                    document.getElementById('review-rating').value = review.rating;
                    document.getElementById('review-comment').value = review.comment;
                    document.getElementById('review-status').value = review.status;
                    
                    await loadProjectsForReview();
                    if (review.project) {
                        document.getElementById('review-project').value = review.project._id;
                    }
                    
                    document.getElementById('review-modal').classList.add('show');
                }
            } catch (error) {
                console.error('Erro ao carregar review:', error);
                showMessage('Erro ao carregar avaliação', 'error');
            }
        }
        
        // Aprovar review
        async function approveReview(reviewId) {
            try {
                const response = await fetch(`/api/reviews/${reviewId}/approve`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showMessage('Avaliação aprovada!', 'success');
                    loadReviews();
                } else {
                    showMessage(data.message || 'Erro ao aprovar avaliação', 'error');
                }
            } catch (error) {
                console.error('Erro ao aprovar review:', error);
                showMessage('Erro ao aprovar avaliação', 'error');
            }
        }
        
        // Rejeitar review
        async function rejectReview(reviewId) {
            try {
                const response = await fetch(`/api/reviews/${reviewId}/reject`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showMessage('Avaliação rejeitada!', 'success');
                    loadReviews();
                } else {
                    showMessage(data.message || 'Erro ao rejeitar avaliação', 'error');
                }
            } catch (error) {
                console.error('Erro ao rejeitar review:', error);
                showMessage('Erro ao rejeitar avaliação', 'error');
            }
        }
        
        // Excluir review
        async function deleteReview(reviewId) {
            if (!confirm('Tem certeza que deseja excluir esta avaliação?')) return;
            
            try {
                const response = await fetch(`/api/reviews/${reviewId}`, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showMessage('Avaliação excluída!', 'success');
                    loadReviews();
                } else {
                    showMessage(data.message || 'Erro ao excluir avaliação', 'error');
                }
            } catch (error) {
                console.error('Erro ao excluir review:', error);
                showMessage('Erro ao excluir avaliação', 'error');
            }
        }
        
        // Filtros e busca de reviews
        document.getElementById('search-reviews-btn').addEventListener('click', filterReviews);
        document.getElementById('reviews-status-filter').addEventListener('change', filterReviews);
        document.getElementById('reviews-rating-filter').addEventListener('change', filterReviews);
        
        async function filterReviews() {
            const search = document.getElementById('reviews-search').value;
            const status = document.getElementById('reviews-status-filter').value;
            const rating = document.getElementById('reviews-rating-filter').value;
            
            try {
                let url = '/api/reviews?';
                if (search) url += `search=${encodeURIComponent(search)}&`;
                if (status) url += `status=${status}&`;
                if (rating) url += `rating=${rating}&`;
                
                const response = await fetch(url);
                const data = await response.json();
                
                if (data.success) {
                    displayReviews(data.data);
                }
            } catch (error) {
                console.error('Erro ao filtrar reviews:', error);
                showMessage('Erro ao filtrar avaliações', 'error');
            }
        }

        // ================== GESTÃO DE CATEGORIAS ==================
        let categories = [];
        let currentCategoryId = null;

        // Carregar categorias
        async function loadCategories() {
            try {
                const response = await fetch('/api/categories');
                const data = await response.json();
                
                if (data.success) {
                    categories = data.data;
                    displayCategories(categories);
                    updateCategorySelects();
                } else {
                    document.getElementById('categories-table-body').innerHTML = 
                        '<tr><td colspan="7">Erro ao carregar categorias</td></tr>';
                }
            } catch (error) {
                console.error('Erro ao carregar categorias:', error);
                document.getElementById('categories-table-body').innerHTML = 
                    '<tr><td colspan="7">Erro ao carregar categorias</td></tr>';
            }
        }

        // Exibir categorias na tabela
        function displayCategories(categoriesData) {
            const tbody = document.getElementById('categories-table-body');
            
            if (categoriesData.length === 0) {
                tbody.innerHTML = '<tr><td colspan="7">Nenhuma categoria encontrada</td></tr>';
                return;
            }

            tbody.innerHTML = categoriesData.map(category => `
                <tr>
                    <td>${category.name}</td>
                    <td>${category.slug}</td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 20px; height: 20px; background: ${category.color}; border-radius: 3px;"></div>
                            ${category.color}
                        </div>
                    </td>
                    <td><i class="${category.icon || 'fas fa-folder'}"></i> ${category.icon || 'Nenhum'}</td>
                    <td>
                        <span class="status-badge ${category.isActive ? 'status-active' : 'status-inactive'}">
                            ${category.isActive ? 'Ativo' : 'Inativo'}
                        </span>
                    </td>
                    <td>0</td>
                    <td>
                        <button class="btn btn-sm btn-outline" onclick="editCategory('${category._id}')">Editar</button>
                        <button class="btn btn-sm btn-danger" onclick="deleteCategory('${category._id}')">Excluir</button>
                    </td>
                </tr>
            `).join('');
        }

        // Abrir modal de categoria
        function openCategoryModal(categoryId = null) {
            currentCategoryId = categoryId;
            const modal = document.getElementById('category-modal');
            const title = document.getElementById('category-modal-title');
            const form = document.getElementById('category-form');
            
            if (categoryId) {
                title.textContent = 'Editar Categoria';
                const category = categories.find(c => c._id === categoryId);
                if (category) {
                    document.getElementById('category-name').value = category.name;
                    document.getElementById('category-description').value = category.description || '';
                    document.getElementById('category-icon').value = category.icon || '';
                    document.getElementById('category-color').value = category.color || '#ffd700';
                    document.getElementById('category-active').value = category.isActive.toString();
                }
            } else {
                title.textContent = 'Adicionar Categoria';
                form.reset();
            }
            
            modal.classList.add('show');
        }

        // Editar categoria
        function editCategory(categoryId) {
            openCategoryModal(categoryId);
        }

        // Salvar categoria
        async function saveCategory(formData) {
            try {
                const url = currentCategoryId ? `/api/categories/${currentCategoryId}` : '/api/categories';
                const method = currentCategoryId ? 'PUT' : 'POST';
                
                const response = await fetch(url, {
                    method,
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    },
                    body: JSON.stringify(formData)
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showMessage(currentCategoryId ? 'Categoria atualizada!' : 'Categoria criada!', 'success');
                    document.getElementById('category-modal').classList.remove('show');
                    loadCategories();
                } else {
                    showMessage(data.message || 'Erro ao salvar categoria', 'error');
                }
            } catch (error) {
                console.error('Erro ao salvar categoria:', error);
                showMessage('Erro ao salvar categoria', 'error');
            }
        }

        // Excluir categoria
        async function deleteCategory(categoryId) {
            if (!confirm('Tem certeza que deseja excluir esta categoria?')) return;
            
            try {
                const response = await fetch(`/api/categories/${categoryId}`, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    }
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showMessage('Categoria excluída!', 'success');
                    loadCategories();
                } else {
                    showMessage(data.message || 'Erro ao excluir categoria', 'error');
                }
            } catch (error) {
                console.error('Erro ao excluir categoria:', error);
                showMessage('Erro ao excluir categoria', 'error');
            }
        }

        // ================== GESTÃO DE COMBOS ==================
        let combos = [];
        let currentComboId = null;

        // Carregar combos
        async function loadCombos() {
            try {
                const response = await fetch('/api/combos');
                const data = await response.json();
                
                if (data.success) {
                    combos = data.data;
                    displayCombos(combos);
                } else {
                    document.getElementById('combos-table-body').innerHTML = 
                        '<tr><td colspan="8">Erro ao carregar combos</td></tr>';
                }
            } catch (error) {
                console.error('Erro ao carregar combos:', error);
                document.getElementById('combos-table-body').innerHTML = 
                    '<tr><td colspan="8">Erro ao carregar combos</td></tr>';
            }
        }

        // Exibir combos na tabela
        function displayCombos(combosData) {
            const tbody = document.getElementById('combos-table-body');
            
            if (combosData.length === 0) {
                tbody.innerHTML = '<tr><td colspan="8">Nenhum combo encontrado</td></tr>';
                return;
            }

            tbody.innerHTML = combosData.map(combo => `
                <tr>
                    <td>${combo.name}</td>
                    <td>${combo.products?.length || 0} produtos</td>
                    <td>R$ ${combo.originalPrice?.toFixed(2) || '0.00'}</td>
                    <td>R$ ${combo.comboPrice?.toFixed(2) || '0.00'}</td>
                    <td>${combo.discount || 0}%</td>
                    <td>
                        <span class="status-badge ${combo.isActive ? 'status-active' : 'status-inactive'}">
                            ${combo.isActive ? 'Ativo' : 'Inativo'}
                        </span>
                    </td>
                    <td>${combo.soldCount || 0}</td>
                    <td>
                        <button class="btn btn-sm btn-outline" onclick="editCombo('${combo._id}')">Editar</button>
                        <button class="btn btn-sm btn-danger" onclick="deleteCombo('${combo._id}')">Excluir</button>
                    </td>
                </tr>
            `).join('');
        }

        // Event Listeners para Categorias
        document.getElementById('add-category-btn').addEventListener('click', () => openCategoryModal());
        document.getElementById('close-category-modal').addEventListener('click', () => {
            document.getElementById('category-modal').classList.remove('show');
        });
        document.getElementById('cancel-category-btn').addEventListener('click', () => {
            document.getElementById('category-modal').classList.remove('show');
        });

        document.getElementById('category-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            data.isActive = data.isActive === 'true';
            saveCategory(data);
        });

        // Event Listeners para Combos
        document.getElementById('add-combo-btn').addEventListener('click', () => openComboModal());
        document.getElementById('close-combo-modal').addEventListener('click', () => {
            document.getElementById('combo-modal').classList.remove('show');
        });
        document.getElementById('cancel-combo-btn').addEventListener('click', () => {
            document.getElementById('combo-modal').classList.remove('show');
        });

        // Atualizar selects de categoria
        function updateCategorySelects() {
            const selects = document.querySelectorAll('#combo-category, #combos-category-filter');
            selects.forEach(select => {
                const currentValue = select.value;
                select.innerHTML = '<option value="">Todas as categorias</option>' +
                    categories.map(cat => `<option value="${cat._id}">${cat.name}</option>`).join('');
                select.value = currentValue;
            });
        }

        // Carregar dados iniciais
        document.addEventListener('DOMContentLoaded', function() {
            loadCategories();
            loadCombos();
        });
    </script>
</body>
</html>